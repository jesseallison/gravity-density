<!doctype html>
<html>

<head>
  <meta charset="utf-8">
  <title>Gravity|Density</title>
  <!-- <meta name="viewport" content="width=device-width, initial-scale=1"> -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />


  <link rel="stylesheet" href="styles/main.css">
  <link rel="stylesheet" href="styles/anim.css">

  <link href="http://fonts.googleapis.com/css?family=Vollkorn" rel="stylesheet" type="text/css">

  <script src="/socket.io/socket.io.js"></script>
  <script type="text/javascript" src="js/Tone.min.js"></script>
  <script type="text/javascript" src="js/nexusUI.js"></script>
  <script type="text/javascript" src="js/browserHub.js"></script>
  <script type="text/javascript" src="js/StartAudioContext.js"></script>
  <script src="js/wavesurfer.min.js"></script>
  <script src="js/wavesurfer.regions.min.js"></script>

</head>

<body>
  <div class="display">

    <h1 onclick="demoSound.triggerFirstSound();"><span class="mainTitle">Gravity|Density</span></h1>

    <div class="nexusOverlay">
      <p>Artists | <strong>Jesse Allison & Anthony Marasco</strong></p>
      <p>Start by tapping your approximate location in the space.</p>
      <svg version="1.1" id="seatMap" x="0px" y="0px" viewbox="0 0 640 445"
        style="max-width: 70vh; enable-background:new 0 0 640 445;">
        <rect x="4" y="4" style="fill:#FDF0DF; fill-opacity:0.77;stroke:#B3B3B3;stroke-width:8;stroke-miterlimit:10;" width="632"
          height="437" />
        <rect x="77.5" y="70" style="fill:none;stroke:#4D4D4D;stroke-width:8;stroke-miterlimit:10;" width="485.1"
          height="350" />
        <line style="fill:none;stroke:#4D4D4D;stroke-width:18;stroke-miterlimit:10;" x1="30" y1="40" x2="610" y2="40" />
      </svg>
    </div>

    <div class="mainDisplay">
      <p>
        <br>
        <br><em>Gravity|Density<br>
          Sample what you like.<br>
          Select a region and set it.</em>
<br>
          <!-- <object type="image/svg+xml" data="data/orbitSample.svg" width="300px" height"300px">
            Dots 
          </object> -->

          <!-- <svg id="recordOrbit" xmlns="http://www.w3.org/2000/svg" width="300" height="200" style="isolation:isolate" viewBox="0 0 360 640"><defs><clipPath id="a"><path class="svg-elem-1" d="M0 0h360v640H0z"/></clipPath></defs><g clip-path="url(#a)"><path d="M179.765 202.412c14.785 0 26.822-12.037 26.822-26.822 0-14.785-12.037-26.822-26.822-26.822-14.785 0-26.822 12.037-26.822 26.822.055 14.84 12.037 26.822 26.822 26.822z" fill="#00AAD1" class="svg-elem-2"/><path d="M232.475 138.709a5.911 5.911 0 005.936-5.936 5.912 5.912 0 00-5.936-5.936 5.912 5.912 0 00-5.936 5.936 5.911 5.911 0 005.936 5.936zM99.354 230.663c0-4.782-3.902-8.684-8.684-8.684-4.782 0-8.684 3.902-8.684 8.684 0 4.782 3.902 8.684 8.684 8.684 4.782 0 8.684-3.902 8.684-8.684z" fill="#FED710" class="svg-elem-3"/><path d="M285.02 169.874c-3.023 0-5.497 2.473-5.497 5.496v.275c0 3.023 2.474 5.496 5.497 5.496 3.023 0 5.496-2.473 5.496-5.496v-.22c0-3.078-2.473-5.551-5.496-5.551zm-.88-9.014a5.492 5.492 0 10-1.672-10.855 5.492 5.492 0 001.672 10.855zm4.397 35.726c.55-2.968-1.374-5.881-4.342-6.431-2.968-.55-5.881 1.374-6.43 4.342a5.5 5.5 0 005.386 6.541c2.583 0 4.892-1.814 5.386-4.452zm-85.193 75.959a5.501 5.501 0 00-4.067 6.65 5.451 5.451 0 006.651 4.013 5.503 5.503 0 004.067-6.651c-.715-2.968-3.683-4.727-6.651-4.012zM163.881 65.993a5.497 5.497 0 00.769 10.938c.275 0 .55 0 .77-.055 3.023-.44 5.111-3.243 4.672-6.211-.44-2.968-3.243-5.057-6.211-4.672zm-90.415 78.543a5.528 5.528 0 005.277 7.035 5.506 5.506 0 005.276-3.958 5.53 5.53 0 00-3.737-6.815c-2.913-.879-5.991.824-6.816 3.738zm132.242-76.619c-2.968-.715-5.936 1.099-6.596 4.067-.714 2.968 1.099 5.936 4.067 6.596.44.11.88.165 1.265.165a5.504 5.504 0 005.331-4.233c.715-2.913-1.099-5.881-4.067-6.595zM69.509 165.202a5.496 5.496 0 004.947 5.991h.494a5.541 5.541 0 005.497-5.002A5.496 5.496 0 0075.5 160.2a5.606 5.606 0 00-5.991 5.002zm208.036 55.018c2.198 0 4.232-1.319 5.111-3.463a5.445 5.445 0 00-3.078-7.145c-2.803-1.154-5.991.22-7.145 3.078a5.465 5.465 0 005.112 7.53zm-12.312-106.299c-2.528 1.649-3.298 5.057-1.649 7.585 1.044 1.594 2.803 2.528 4.617 2.528a5.507 5.507 0 004.617-8.464 5.457 5.457 0 00-7.585-1.649zm-24.349 152.908c1.1 0 2.199-.33 3.188-1.045a5.475 5.475 0 10-6.376-8.904c-2.473 1.759-3.023 5.222-1.264 7.695 1.045 1.484 2.748 2.254 4.452 2.254zm-.22-171.541c1.704 0 3.408-.824 4.507-2.308 1.759-2.473 1.155-5.936-1.319-7.695-2.473-1.759-5.936-1.154-7.64 1.319a5.492 5.492 0 004.452 8.684zm-17.313-10.003c2.089 0 4.067-1.209 5.002-3.243 1.264-2.748.055-6.046-2.749-7.255-2.803-1.209-6.045-.055-7.255 2.748-1.264 2.749-.055 6.046 2.749 7.256a5.385 5.385 0 002.253.494zm28.691 13.576c-2.199 2.089-2.254 5.551-.165 7.75 1.099 1.099 2.528 1.704 3.957 1.704 1.374 0 2.748-.495 3.793-1.539a5.482 5.482 0 00-7.585-7.915zm-127.57 172.694c.88.495 1.814.715 2.748.715a5.508 5.508 0 002.749-10.278c-2.639-1.539-5.991-.605-7.53 2.034-1.484 2.693-.605 6.045 2.033 7.529zm41.168 2.804c-3.023-.44-5.772 1.649-6.211 4.671-.44 3.023 1.649 5.772 4.672 6.211.274.055.549.055.769.055a5.496 5.496 0 00.77-10.937zm90.359-20.612c1.429 0 2.913-.549 3.957-1.703a5.482 5.482 0 00-2.651-9.116 5.48 5.48 0 00-5.263 1.531c-2.089 2.198-2.034 5.661.165 7.749 1.044.99 2.418 1.539 3.792 1.539zm-149.225-2.143a5.485 5.485 0 00.55 7.75 5.532 5.532 0 003.572 1.319 5.54 5.54 0 004.177-1.924 5.486 5.486 0 00-.549-7.75c-2.309-1.923-5.771-1.649-7.75.605zM143.38 70.995a5.479 5.479 0 00-4.057 9.186 5.48 5.48 0 005.815 1.477c.605 0 1.21-.11 1.814-.33 2.858-.989 4.397-4.122 3.408-6.98-.935-2.859-4.122-4.343-6.98-3.353zm41.497-5.991c-3.023-.11-5.606 2.198-5.716 5.221a5.44 5.44 0 005.221 5.716h.275c2.913 0 5.331-2.308 5.496-5.221.11-3.023-2.253-5.606-5.276-5.716zm36.385 201.385c-2.748 1.264-3.957 4.507-2.693 7.31.935 2.034 2.913 3.188 5.002 3.188.769 0 1.539-.165 2.308-.495 2.748-1.264 3.958-4.507 2.693-7.31-1.264-2.748-4.561-3.957-7.31-2.693zm54.139-135.21a5.489 5.489 0 00-3.023 7.146 5.525 5.525 0 007.145 3.078c2.804-1.155 4.178-4.342 3.023-7.146a5.51 5.51 0 00-7.145-3.078zM143.654 280.35c.605.219 1.21.274 1.814.274 2.254 0 4.397-1.429 5.222-3.682.989-2.858-.55-5.991-3.408-6.98-2.858-.99-5.991.549-6.98 3.407a5.384 5.384 0 003.352 6.981zm127.68-52.49a5.456 5.456 0 00-7.585 1.649 5.457 5.457 0 001.649 7.585 5.346 5.346 0 002.968.879c1.814 0 3.572-.879 4.617-2.528 1.649-2.529.879-5.936-1.649-7.585zM124.252 79.789a5.485 5.485 0 00-1.978 7.53c1.044 1.759 2.858 2.748 4.781 2.748.935 0 1.869-.22 2.749-.715a5.487 5.487 0 001.978-7.529 5.456 5.456 0 00-7.53-2.034zm-17.093 12.257a5.485 5.485 0 00-.55 7.749 5.45 5.45 0 004.122 1.869 5.442 5.442 0 003.628-1.374c2.308-1.979 2.528-5.496.55-7.75-1.979-2.253-5.497-2.528-7.75-.494zm-18.468 30.559c-2.693-1.374-5.991-.33-7.42 2.364a5.495 5.495 0 004.892 8.024 5.565 5.565 0 004.892-2.968c1.374-2.693.329-5.991-2.364-7.42zm11.652-16.269a5.455 5.455 0 00-7.695.934 5.454 5.454 0 00.935 7.695 5.544 5.544 0 003.408 1.155 5.52 5.52 0 004.342-2.089c1.813-2.363 1.429-5.826-.99-7.695zm84.259 168.902a5.497 5.497 0 00-4.554 8.363 5.497 5.497 0 004.829 2.63h.275c3.023-.165 5.386-2.694 5.221-5.771-.165-3.023-2.748-5.332-5.771-5.222zM78.798 210.876a5.528 5.528 0 005.276-7.035 5.531 5.531 0 00-6.815-3.738 5.533 5.533 0 00-3.738 6.816 5.507 5.507 0 005.277 3.957zm-4.287-30.614a5.496 5.496 0 00-4.947 5.991c.275 2.858 2.638 5.001 5.441 5.001h.55a5.496 5.496 0 004.947-5.991 5.497 5.497 0 00-5.991-5.001zm174.508.879c3.023 0 5.496-2.473 5.496-5.496v-.11c0-3.023-2.473-5.497-5.496-5.497-3.023 0-5.497 2.474-5.497 5.497v.11c0 3.023 2.474 5.496 5.497 5.496zm-138.453.055c3.023 0 5.497-2.473 5.497-5.496 0-3.023-2.474-5.497-5.497-5.497-3.022 0-5.496 2.474-5.496 5.497 0 3.023 2.474 5.496 5.496 5.496zm132.132 34.847c1.649-2.529.879-5.936-1.649-7.585a5.441 5.441 0 00-7.585 1.649 5.508 5.508 0 004.617 8.464 5.85 5.85 0 004.617-2.528zm-94.042-108.388c-2.748 1.264-3.957 4.507-2.693 7.31.934 2.034 2.913 3.188 5.001 3.188.77 0 1.539-.165 2.309-.494 2.748-1.265 3.957-4.507 2.693-7.311-1.319-2.748-4.562-3.957-7.31-2.693zm-17.863 11.542a5.484 5.484 0 00-.55 7.75 5.457 5.457 0 004.123 1.869c1.264 0 2.583-.44 3.627-1.319a5.496 5.496 0 10-7.2-8.3zm120.699 77.499a5.463 5.463 0 00-3.737-6.816 5.468 5.468 0 00-4.189.445 5.47 5.47 0 00-2.627 3.293 5.508 5.508 0 005.277 7.035c2.418-.055 4.617-1.594 5.276-3.957zm-136.638-45.785a5.533 5.533 0 00-6.816 3.738 5.508 5.508 0 005.277 7.035 5.506 5.506 0 005.276-3.957c.825-2.913-.824-5.991-3.737-6.816zm114.433 73.431c-1.979-2.308-5.441-2.528-7.75-.55-2.308 1.979-2.528 5.442-.549 7.75 1.099 1.264 2.638 1.869 4.177 1.869 1.264 0 2.583-.44 3.627-1.374 2.254-1.924 2.474-5.386.495-7.695zM195.1 243.359c-.44-3.023-3.188-5.111-6.211-4.672-3.023.44-5.112 3.188-4.672 6.211.385 2.748 2.748 4.727 5.442 4.727.274 0 .549 0 .769-.055a5.442 5.442 0 004.672-6.211zm-56.447-11.762c1.978-2.308 1.759-5.771-.55-7.75-2.308-1.978-5.771-1.758-7.75.55-1.978 2.309-1.759 5.771.55 7.75a5.532 5.532 0 003.572 1.319c1.539 0 3.078-.605 4.178-1.869zm74.915 4.727c-1.265-2.748-4.507-3.957-7.311-2.693-2.803 1.264-3.957 4.507-2.693 7.31.935 2.034 2.913 3.188 5.002 3.188.769 0 1.539-.165 2.308-.495 2.749-1.319 3.958-4.562 2.694-7.31zm-101.737-46.389a5.533 5.533 0 00-3.738 6.816 5.507 5.507 0 006.816 3.737 5.53 5.53 0 003.737-6.815 5.44 5.44 0 00-6.815-3.738zm5.056-54.633a5.506 5.506 0 004.617 8.464 5.497 5.497 0 002.968-10.113c-2.583-1.649-5.991-.935-7.585 1.649zm127.735 15.389a5.533 5.533 0 00-3.738 6.816c.715 2.363 2.913 3.957 5.277 3.957a5.53 5.53 0 005.276-7.035c-.824-2.913-3.902-4.562-6.815-3.738zm-80.247-42.816c.385 2.748 2.749 4.727 5.442 4.727.275 0 .549 0 .769-.055a5.497 5.497 0 10-6.211-4.672zm11.048 137.078c.44-3.023-1.649-5.771-4.672-6.211-3.023-.439-5.771 1.649-6.211 4.672-.439 3.023 1.649 5.771 4.672 6.211.275.055.55.055.77.055a5.495 5.495 0 005.441-4.727zm8.684-138.672c-.439 3.023 1.649 5.771 4.672 6.211.275.055.495.055.77.055a5.497 5.497 0 10-5.442-6.266zm19.347 4.012a5.508 5.508 0 005.002 7.805c2.089 0 4.067-1.209 5.002-3.243 1.264-2.748.055-6.046-2.749-7.255a5.469 5.469 0 00-7.255 2.693zm-81.895 108.333a5.509 5.509 0 004.617-8.464c-1.649-2.529-5.057-3.298-7.585-1.649-2.528 1.649-3.298 5.056-1.649 7.585 1.045 1.594 2.803 2.528 4.617 2.528zm34.517 22.315c1.264-2.748.055-6.046-2.693-7.31-2.748-1.264-6.046-.055-7.31 2.693-1.264 2.748-.055 6.046 2.693 7.31a5.573 5.573 0 007.31-2.693zm-14.071-65.296c0 20.831 16.984 37.814 37.815 37.814 20.831 0 37.815-16.983 37.815-37.814s-16.984-37.815-37.815-37.815c-20.831 0-37.815 16.929-37.815 37.815zm37.76-26.822c14.785 0 26.822 12.037 26.822 26.822 0 14.785-12.037 26.822-26.822 26.822-14.785 0-26.822-12.037-26.822-26.822.055-14.785 12.037-26.822 26.822-26.822zm52.71.879c9.344 0 16.929-7.585 16.929-16.929 0-9.343-7.585-16.928-16.929-16.928-9.344 0-16.929 7.585-16.929 16.928 0 9.344 7.585 16.929 16.929 16.929zm0-22.865a5.912 5.912 0 015.936 5.936 5.911 5.911 0 01-5.936 5.936 5.911 5.911 0 01-5.936-5.936 5.912 5.912 0 015.936-5.936zm-141.75 84.149c-10.855.03-19.647 8.822-19.677 19.677 0 10.828 8.849 19.677 19.677 19.677s19.677-8.849 19.677-19.677c-.055-10.828-8.849-19.677-19.677-19.677zm-8.684 19.677c0-4.782 3.902-8.684 8.684-8.684 4.782 0 8.684 3.902 8.684 8.684 0 4.782-3.902 8.684-8.684 8.684-4.782 0-8.684-3.902-8.684-8.684z" fill="#2D3033" class="svg-elem-4"/></g></svg> -->
          <!-- <svg id="recordOrbit" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="isolation:isolate" viewBox="136 508.5 139 139" width="139pt" height="139pt"><g id="sampleGalaxy"><circle vector-effect="non-scaling-stroke" cx="205.5" cy="578" r="69.5" id="Ellipse" fill="rgb(253,240,223)" fill-opacity="0.4"/><path d=" M 261.091 574.671 C 259.49 574.671 258.181 575.98 258.181 577.58 L 258.181 577.726 C 258.181 579.326 259.49 580.635 261.091 580.635 C 262.691 580.635 264 579.326 264 577.726 L 264 577.61 C 264 575.98 262.691 574.671 261.091 574.671 Z  M 260.625 569.9 C 261.678 569.738 262.558 569.013 262.918 568.01 C 263.278 567.008 263.061 565.888 262.353 565.093 C 261.644 564.298 260.557 563.954 259.52 564.197 C 257.999 564.554 257.032 566.047 257.33 567.58 C 257.627 569.113 259.082 570.137 260.625 569.9 L 260.625 569.9 Z  M 262.953 588.811 C 263.244 587.24 262.225 585.698 260.654 585.407 C 259.083 585.116 257.541 586.134 257.25 587.705 C 257.086 588.557 257.311 589.437 257.862 590.106 C 258.413 590.776 259.234 591.165 260.101 591.167 C 261.469 591.167 262.691 590.207 262.953 588.811 L 262.953 588.811 Z  M 217.857 629.019 C 216.286 629.397 215.326 630.968 215.704 632.539 C 215.884 633.29 216.358 633.938 217.02 634.338 C 217.681 634.737 218.476 634.854 219.224 634.663 C 220.795 634.285 221.756 632.713 221.377 631.142 C 220.999 629.571 219.428 628.64 217.857 629.019 Z  M 196.968 519.684 C 195.456 519.899 194.369 521.245 194.476 522.768 C 194.583 524.291 195.848 525.472 197.375 525.473 C 197.52 525.473 197.666 525.473 197.782 525.444 C 199.382 525.211 200.488 523.728 200.255 522.156 C 200.022 520.585 198.539 519.48 196.968 519.684 L 196.968 519.684 Z  M 149.108 561.259 C 148.859 562.137 149.035 563.082 149.583 563.812 C 150.131 564.543 150.988 564.976 151.901 564.983 C 153.152 564.983 154.316 564.168 154.694 562.888 C 155.13 561.346 154.258 559.746 152.716 559.28 C 151.174 558.815 149.544 559.717 149.108 561.259 L 149.108 561.259 Z  M 219.108 520.702 C 217.537 520.324 215.966 521.284 215.617 522.855 C 215.239 524.426 216.199 525.997 217.77 526.346 C 218.002 526.404 218.235 526.433 218.439 526.433 C 219.748 526.433 220.941 525.531 221.261 524.193 C 221.639 522.651 220.679 521.08 219.108 520.702 Z  M 147.013 572.198 C 146.861 573.797 148.033 575.216 149.632 575.369 L 149.894 575.369 C 151.377 575.369 152.657 574.235 152.803 572.722 C 152.955 571.123 151.783 569.704 150.184 569.551 C 148.586 569.432 147.182 570.604 147.013 572.198 Z  M 257.134 601.321 C 258.298 601.321 259.374 600.623 259.84 599.488 C 260.451 598.004 259.723 596.288 258.21 595.706 C 256.727 595.095 255.039 595.822 254.428 597.335 C 254.062 598.232 254.168 599.252 254.712 600.054 C 255.256 600.855 256.165 601.331 257.134 601.321 L 257.134 601.321 Z  M 250.617 545.053 C 249.278 545.926 248.871 547.73 249.744 549.068 C 250.297 549.912 251.228 550.407 252.188 550.407 C 253.249 550.401 254.223 549.819 254.732 548.887 C 255.24 547.956 255.202 546.822 254.632 545.926 C 253.759 544.559 251.955 544.181 250.617 545.053 L 250.617 545.053 Z  M 237.728 625.993 C 238.31 625.993 238.892 625.818 239.416 625.44 C 240.258 624.837 240.714 623.831 240.613 622.8 C 240.512 621.77 239.868 620.871 238.925 620.444 C 237.982 620.016 236.883 620.124 236.041 620.727 C 234.731 621.658 234.441 623.491 235.372 624.8 C 235.924 625.585 236.826 625.993 237.728 625.993 L 237.728 625.993 Z  M 237.612 535.191 C 238.514 535.191 239.416 534.754 239.997 533.969 C 240.929 532.659 240.608 530.826 239.299 529.895 C 237.99 528.964 236.157 529.285 235.255 530.594 C 234.623 531.478 234.537 532.642 235.033 533.61 C 235.529 534.578 236.524 535.188 237.612 535.191 L 237.612 535.191 Z  M 228.447 529.895 C 229.553 529.895 230.6 529.255 231.095 528.179 C 231.764 526.724 231.124 524.979 229.64 524.339 C 228.156 523.698 226.44 524.309 225.8 525.793 C 225.13 527.248 225.771 528.994 227.254 529.634 C 227.633 529.808 228.04 529.895 228.447 529.895 L 228.447 529.895 Z  M 243.634 537.082 C 242.47 538.187 242.441 540.02 243.547 541.184 C 244.129 541.766 244.885 542.086 245.642 542.086 C 246.369 542.086 247.096 541.824 247.649 541.271 C 248.806 540.163 248.845 538.326 247.736 537.169 C 246.628 536.012 244.791 535.973 243.634 537.082 L 243.634 537.082 Z  M 176.107 628.495 C 176.573 628.757 177.067 628.873 177.562 628.873 C 178.881 628.872 180.036 627.986 180.376 626.711 C 180.717 625.436 180.16 624.092 179.017 623.433 C 177.62 622.618 175.845 623.112 175.031 624.509 C 174.245 625.935 174.711 627.709 176.107 628.495 Z  M 197.899 629.979 C 196.298 629.746 194.844 630.851 194.611 632.452 C 194.378 634.052 195.484 635.507 197.084 635.739 C 197.229 635.768 197.375 635.768 197.491 635.768 C 199.018 635.767 200.283 634.586 200.39 633.063 C 200.497 631.541 199.41 630.194 197.899 629.979 L 197.899 629.979 Z  M 245.729 619.068 C 246.485 619.068 247.271 618.777 247.824 618.167 C 248.541 617.418 248.804 616.344 248.515 615.349 C 248.225 614.353 247.427 613.588 246.42 613.341 C 245.413 613.094 244.351 613.403 243.634 614.152 C 242.529 615.315 242.558 617.148 243.722 618.254 C 244.274 618.777 245.002 619.068 245.729 619.068 Z  M 166.739 617.934 C 166.232 618.516 165.978 619.276 166.033 620.045 C 166.088 620.815 166.446 621.531 167.03 622.036 C 167.583 622.502 168.252 622.734 168.921 622.734 C 169.736 622.734 170.55 622.385 171.132 621.716 C 171.639 621.134 171.893 620.374 171.838 619.604 C 171.784 618.835 171.425 618.118 170.841 617.614 C 169.619 616.595 167.786 616.741 166.739 617.934 Z  M 186.116 522.331 C 184.963 522.327 183.917 523.006 183.451 524.06 C 182.986 525.114 183.189 526.345 183.968 527.194 C 184.748 528.043 185.956 528.349 187.047 527.975 C 187.367 527.975 187.687 527.917 188.007 527.801 C 189.519 527.277 190.334 525.619 189.81 524.106 C 189.316 522.593 187.628 521.807 186.116 522.331 L 186.116 522.331 Z  M 208.081 519.16 C 206.481 519.102 205.114 520.324 205.056 521.924 C 205.016 522.693 205.286 523.445 205.806 524.014 C 206.325 524.583 207.05 524.919 207.82 524.95 L 207.965 524.95 C 209.507 524.95 210.787 523.728 210.874 522.186 C 210.933 520.585 209.682 519.218 208.081 519.16 Z  M 227.342 625.76 C 225.887 626.429 225.247 628.146 225.916 629.63 C 226.411 630.706 227.458 631.317 228.564 631.317 C 228.971 631.317 229.378 631.23 229.786 631.055 C 231.24 630.386 231.88 628.669 231.211 627.186 C 230.542 625.731 228.796 625.091 227.342 625.76 L 227.342 625.76 Z  M 255.999 554.189 C 255.285 554.478 254.716 555.039 254.416 555.749 C 254.116 556.458 254.11 557.257 254.399 557.971 C 254.999 559.461 256.687 560.188 258.181 559.6 C 259.665 558.989 260.392 557.302 259.781 555.818 C 259.17 554.305 257.483 553.607 255.999 554.189 Z  M 186.261 633.15 C 186.581 633.266 186.901 633.295 187.221 633.295 C 188.414 633.295 189.549 632.539 189.985 631.346 C 190.509 629.833 189.694 628.175 188.181 627.651 C 186.668 627.127 185.01 627.942 184.486 629.455 C 184.218 630.18 184.256 630.982 184.59 631.679 C 184.925 632.375 185.528 632.906 186.261 633.15 L 186.261 633.15 Z  M 253.846 605.365 C 252.508 604.492 250.704 604.871 249.831 606.238 C 248.958 607.576 249.337 609.38 250.704 610.253 C 251.199 610.573 251.722 610.718 252.275 610.718 C 253.235 610.718 254.166 610.253 254.719 609.38 C 255.592 608.042 255.185 606.238 253.846 605.365 L 253.846 605.365 Z  M 175.991 526.986 C 175.321 527.374 174.834 528.013 174.637 528.761 C 174.441 529.509 174.551 530.305 174.943 530.972 C 175.496 531.903 176.456 532.427 177.475 532.427 C 177.969 532.427 178.464 532.31 178.929 532.048 C 180.326 531.234 180.791 529.459 179.977 528.063 C 179.597 527.385 178.96 526.889 178.21 526.686 C 177.46 526.484 176.66 526.592 175.991 526.986 L 175.991 526.986 Z  M 166.943 533.474 C 166.359 533.979 166 534.695 165.946 535.465 C 165.891 536.234 166.145 536.994 166.652 537.576 C 167.234 538.245 168.048 538.565 168.834 538.565 C 169.503 538.565 170.201 538.333 170.754 537.838 C 171.976 536.791 172.092 534.929 171.045 533.736 C 169.997 532.543 168.135 532.398 166.943 533.474 Z  M 157.167 549.65 C 155.741 548.923 153.996 549.476 153.239 550.901 C 152.772 551.804 152.809 552.886 153.338 553.754 C 153.868 554.622 154.812 555.151 155.829 555.149 C 156.876 555.149 157.894 554.567 158.418 553.578 C 159.145 552.152 158.593 550.407 157.167 549.65 Z  M 163.335 541.038 C 162.731 540.56 161.96 540.343 161.195 540.436 C 160.43 540.529 159.734 540.924 159.262 541.533 C 158.783 542.137 158.566 542.908 158.659 543.673 C 158.752 544.438 159.147 545.134 159.756 545.606 C 160.28 546.014 160.92 546.217 161.56 546.217 C 162.433 546.217 163.277 545.839 163.859 545.112 C 164.819 543.861 164.615 542.028 163.335 541.038 L 163.335 541.038 Z  M 207.936 630.444 C 206.897 630.47 205.95 631.049 205.453 631.962 C 204.956 632.875 204.983 633.984 205.525 634.871 C 206.068 635.758 207.042 636.289 208.081 636.263 L 208.227 636.263 C 209.827 636.176 211.078 634.837 210.991 633.208 C 210.904 631.608 209.536 630.386 207.936 630.444 Z  M 151.93 596.375 C 152.843 596.368 153.701 595.935 154.248 595.205 C 154.796 594.474 154.972 593.53 154.723 592.651 C 154.258 591.109 152.657 590.236 151.115 590.673 C 149.574 591.138 148.701 592.738 149.137 594.28 C 149.515 595.561 150.679 596.375 151.93 596.375 L 151.93 596.375 Z  M 149.661 580.17 C 148.062 580.323 146.89 581.743 147.042 583.341 C 147.188 584.854 148.439 585.989 149.923 585.989 L 150.214 585.989 C 151.812 585.835 152.984 584.416 152.832 582.817 C 152.766 582.045 152.393 581.33 151.798 580.833 C 151.202 580.336 150.433 580.097 149.661 580.17 L 149.661 580.17 Z  M 242.034 580.635 C 243.634 580.635 244.943 579.326 244.943 577.726 L 244.943 577.668 C 244.943 576.068 243.634 574.758 242.034 574.758 C 240.434 574.758 239.125 576.068 239.125 577.668 L 239.125 577.726 C 239.125 579.326 240.434 580.635 242.034 580.635 Z  M 168.746 580.664 C 170.347 580.664 171.656 579.355 171.656 577.755 C 171.656 576.155 170.347 574.846 168.746 574.846 C 167.146 574.846 165.837 576.155 165.837 577.755 C 165.837 579.355 167.146 580.664 168.746 580.664 Z  M 238.688 599.11 C 239.561 597.772 239.154 595.968 237.815 595.095 C 237.169 594.672 236.38 594.525 235.625 594.69 C 234.87 594.854 234.213 595.314 233.8 595.968 C 233.231 596.863 233.192 597.997 233.701 598.929 C 234.209 599.861 235.183 600.443 236.244 600.448 C 237.175 600.419 238.106 599.954 238.688 599.11 L 238.688 599.11 Z  M 188.909 541.737 C 187.454 542.406 186.814 544.122 187.483 545.606 C 187.978 546.683 189.025 547.294 190.13 547.294 C 190.538 547.294 190.945 547.206 191.352 547.032 C 192.807 546.363 193.447 544.646 192.778 543.162 C 192.08 541.708 190.363 541.068 188.909 541.737 L 188.909 541.737 Z  M 179.453 547.846 C 178.869 548.351 178.511 549.068 178.456 549.837 C 178.401 550.607 178.656 551.367 179.162 551.949 C 179.744 552.618 180.559 552.938 181.344 552.938 C 182.013 552.938 182.712 552.705 183.264 552.24 C 184.087 551.569 184.479 550.505 184.288 549.461 C 184.098 548.418 183.354 547.561 182.348 547.225 C 181.342 546.889 180.232 547.127 179.453 547.846 L 179.453 547.846 Z  M 243.343 588.869 C 243.564 588.128 243.479 587.33 243.108 586.652 C 242.736 585.974 242.108 585.473 241.365 585.261 C 240.624 585.04 239.826 585.125 239.148 585.497 C 238.47 585.869 237.969 586.496 237.757 587.24 C 237.503 588.119 237.677 589.066 238.226 589.798 C 238.775 590.529 239.635 590.961 240.55 590.964 C 241.83 590.935 242.994 590.12 243.343 588.869 L 243.343 588.869 Z  M 171.016 564.634 C 169.474 564.197 167.874 565.07 167.408 566.612 C 167.154 567.491 167.328 568.438 167.877 569.17 C 168.426 569.902 169.286 570.334 170.201 570.336 C 171.452 570.336 172.616 569.521 172.994 568.241 C 173.431 566.699 172.558 565.07 171.016 564.634 L 171.016 564.634 Z  M 231.589 603.503 C 230.542 602.281 228.709 602.165 227.487 603.212 C 226.265 604.26 226.149 606.093 227.196 607.314 C 227.778 607.984 228.593 608.304 229.407 608.304 C 230.076 608.304 230.775 608.071 231.327 607.576 C 232.52 606.558 232.637 604.725 231.589 603.503 Z  M 213.493 613.57 C 213.26 611.97 211.805 610.864 210.205 611.097 C 208.605 611.329 207.5 612.784 207.732 614.384 C 207.936 615.839 209.187 616.886 210.613 616.886 C 210.758 616.886 210.904 616.886 211.02 616.857 C 211.787 616.757 212.482 616.351 212.947 615.733 C 213.412 615.114 213.609 614.335 213.493 613.57 L 213.493 613.57 Z  M 183.613 607.344 C 184.661 606.122 184.544 604.289 183.322 603.241 C 182.101 602.194 180.268 602.31 179.22 603.532 C 178.173 604.754 178.289 606.587 179.511 607.635 C 180.064 608.1 180.733 608.333 181.402 608.333 C 182.217 608.333 183.032 608.013 183.613 607.344 Z  M 223.268 609.846 C 222.599 608.391 220.883 607.751 219.399 608.42 C 217.915 609.089 217.304 610.806 217.973 612.29 C 218.468 613.366 219.515 613.977 220.621 613.977 C 221.028 613.977 221.436 613.89 221.843 613.715 C 223.298 613.017 223.938 611.3 223.268 609.846 L 223.268 609.846 Z  M 169.416 585.29 C 167.874 585.756 167.001 587.356 167.437 588.898 C 167.89 590.438 169.503 591.323 171.045 590.876 C 172.587 590.411 173.46 588.811 173.023 587.269 C 172.814 586.524 172.314 585.894 171.635 585.522 C 170.956 585.149 170.156 585.066 169.416 585.29 Z  M 172.092 556.371 C 171.522 557.266 171.484 558.401 171.992 559.332 C 172.5 560.264 173.475 560.846 174.536 560.851 C 175.825 560.848 176.957 559.998 177.32 558.761 C 177.683 557.525 177.19 556.197 176.107 555.498 C 174.74 554.625 172.936 555.004 172.092 556.371 Z  M 239.707 564.517 C 238.165 564.983 237.292 566.583 237.728 568.125 C 238.106 569.376 239.27 570.22 240.521 570.22 C 241.434 570.212 242.292 569.78 242.84 569.049 C 243.387 568.319 243.563 567.374 243.314 566.496 C 242.878 564.954 241.249 564.081 239.707 564.517 L 239.707 564.517 Z  M 197.229 541.853 C 197.433 543.308 198.684 544.355 200.11 544.355 C 200.255 544.355 200.401 544.355 200.517 544.326 C 201.682 544.161 202.634 543.311 202.927 542.172 C 203.221 541.032 202.799 539.828 201.859 539.12 C 200.919 538.413 199.645 538.342 198.631 538.94 C 197.618 539.538 197.064 540.688 197.229 541.853 Z  M 203.077 614.413 C 203.31 612.813 202.204 611.359 200.604 611.126 C 199.004 610.893 197.549 611.999 197.317 613.599 C 197.084 615.199 198.189 616.654 199.79 616.886 C 199.935 616.915 200.081 616.915 200.197 616.915 C 201.646 616.915 202.874 615.848 203.077 614.413 Z  M 207.674 541.009 C 207.441 542.61 208.547 544.064 210.147 544.297 C 210.293 544.326 210.409 544.326 210.554 544.326 C 212.108 544.326 213.388 543.105 213.461 541.553 C 213.534 540.001 212.374 538.665 210.827 538.52 C 209.28 538.375 207.892 539.471 207.674 541.009 L 207.674 541.009 Z  M 217.915 543.133 C 217.501 544.035 217.575 545.086 218.11 545.922 C 218.646 546.758 219.57 547.264 220.563 547.265 C 221.668 547.265 222.716 546.625 223.21 545.548 C 223.879 544.093 223.239 542.348 221.756 541.708 C 220.301 541.038 218.584 541.679 217.915 543.133 L 217.915 543.133 Z  M 174.565 600.477 C 175.626 600.472 176.601 599.89 177.109 598.958 C 177.617 598.026 177.579 596.892 177.009 595.997 C 176.136 594.659 174.332 594.251 172.994 595.124 C 171.656 595.997 171.248 597.801 172.121 599.139 C 172.674 599.983 173.605 600.477 174.565 600.477 L 174.565 600.477 Z  M 192.836 612.29 C 193.505 610.835 192.865 609.089 191.411 608.42 C 189.956 607.751 188.21 608.391 187.541 609.846 C 186.872 611.3 187.512 613.046 188.967 613.715 C 190.43 614.37 192.148 613.737 192.836 612.29 Z  M 185.388 577.726 C 185.388 588.753 194.378 597.743 205.405 597.743 C 216.431 597.743 225.421 588.753 225.421 577.726 C 225.421 566.699 216.431 557.709 205.405 557.709 C 194.378 557.709 185.388 566.67 185.388 577.726 L 185.388 577.726 Z  M 205.376 563.528 C 213.202 563.528 219.574 569.9 219.574 577.726 C 219.574 585.552 213.202 591.924 205.376 591.924 C 197.549 591.924 191.178 585.552 191.178 577.726 C 191.207 569.9 197.549 563.528 205.376 563.528 Z  M 233.277 563.994 C 238.223 563.994 242.238 559.979 242.238 555.033 C 242.238 550.087 238.223 546.072 233.277 546.072 C 228.331 546.072 224.316 550.087 224.316 555.033 C 224.316 559.979 228.331 563.994 233.277 563.994 Z  M 233.277 551.891 C 235.022 551.891 236.419 553.287 236.419 555.033 C 236.419 556.778 235.022 558.175 233.277 558.175 C 231.531 558.175 230.135 556.778 230.135 555.033 C 230.135 553.287 231.531 551.891 233.277 551.891 Z  M 158.244 596.433 C 152.498 596.449 147.844 601.103 147.828 606.849 C 147.828 612.58 152.512 617.265 158.244 617.265 C 163.975 617.265 168.659 612.58 168.659 606.849 C 168.63 601.117 163.975 596.433 158.244 596.433 L 158.244 596.433 Z  M 153.647 606.849 C 153.647 604.318 155.712 602.252 158.244 602.252 C 160.775 602.252 162.84 604.318 162.84 606.849 C 162.84 609.38 160.775 611.446 158.244 611.446 C 155.712 611.446 153.647 609.38 153.647 606.849 Z " id="Compound Path" class="st2" fill="rgb(13,94,128)"/><path d=" M 233.277 558.175 C 235.022 558.175 236.419 556.778 236.419 555.033 C 236.419 553.287 235.022 551.891 233.277 551.891 C 231.531 551.891 230.135 553.287 230.135 555.033 C 230.135 556.778 231.531 558.175 233.277 558.175 Z  M 162.811 606.849 C 162.811 604.318 160.746 602.252 158.214 602.252 C 155.683 602.252 153.618 604.318 153.618 606.849 C 153.618 609.38 155.683 611.446 158.214 611.446 C 160.746 611.446 162.811 609.38 162.811 606.849 Z " id="Compound Path" class="st1" fill="rgb(232,151,0)"/><path d=" M 205.376 591.895 C 213.202 591.895 219.574 585.523 219.574 577.697 C 219.574 569.871 213.202 563.499 205.376 563.499 C 197.549 563.499 191.178 569.871 191.178 577.697 C 191.207 585.552 197.549 591.895 205.376 591.895 Z " id="Path" class="st0" fill="rgb(244,255,29)" fill-opacity="0.77"/></g></svg> -->
          <svg id="recordOrbit" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="isolation:isolate" viewBox="136 508.5 139 139" width="25%" height="25%"><g id="sampleGalaxy"><circle vector-effect="non-scaling-stroke" cx="205.5" cy="578" r="69.5" id="Ellipse" fill="rgb(253,240,223)" fill-opacity="0.4" class="svg-elem-1"></circle><path d=" M 261.091 574.671 C 259.49 574.671 258.181 575.98 258.181 577.58 L 258.181 577.726 C 258.181 579.326 259.49 580.635 261.091 580.635 C 262.691 580.635 264 579.326 264 577.726 L 264 577.61 C 264 575.98 262.691 574.671 261.091 574.671 Z  M 260.625 569.9 C 261.678 569.738 262.558 569.013 262.918 568.01 C 263.278 567.008 263.061 565.888 262.353 565.093 C 261.644 564.298 260.557 563.954 259.52 564.197 C 257.999 564.554 257.032 566.047 257.33 567.58 C 257.627 569.113 259.082 570.137 260.625 569.9 L 260.625 569.9 Z  M 262.953 588.811 C 263.244 587.24 262.225 585.698 260.654 585.407 C 259.083 585.116 257.541 586.134 257.25 587.705 C 257.086 588.557 257.311 589.437 257.862 590.106 C 258.413 590.776 259.234 591.165 260.101 591.167 C 261.469 591.167 262.691 590.207 262.953 588.811 L 262.953 588.811 Z  M 217.857 629.019 C 216.286 629.397 215.326 630.968 215.704 632.539 C 215.884 633.29 216.358 633.938 217.02 634.338 C 217.681 634.737 218.476 634.854 219.224 634.663 C 220.795 634.285 221.756 632.713 221.377 631.142 C 220.999 629.571 219.428 628.64 217.857 629.019 Z  M 196.968 519.684 C 195.456 519.899 194.369 521.245 194.476 522.768 C 194.583 524.291 195.848 525.472 197.375 525.473 C 197.52 525.473 197.666 525.473 197.782 525.444 C 199.382 525.211 200.488 523.728 200.255 522.156 C 200.022 520.585 198.539 519.48 196.968 519.684 L 196.968 519.684 Z  M 149.108 561.259 C 148.859 562.137 149.035 563.082 149.583 563.812 C 150.131 564.543 150.988 564.976 151.901 564.983 C 153.152 564.983 154.316 564.168 154.694 562.888 C 155.13 561.346 154.258 559.746 152.716 559.28 C 151.174 558.815 149.544 559.717 149.108 561.259 L 149.108 561.259 Z  M 219.108 520.702 C 217.537 520.324 215.966 521.284 215.617 522.855 C 215.239 524.426 216.199 525.997 217.77 526.346 C 218.002 526.404 218.235 526.433 218.439 526.433 C 219.748 526.433 220.941 525.531 221.261 524.193 C 221.639 522.651 220.679 521.08 219.108 520.702 Z  M 147.013 572.198 C 146.861 573.797 148.033 575.216 149.632 575.369 L 149.894 575.369 C 151.377 575.369 152.657 574.235 152.803 572.722 C 152.955 571.123 151.783 569.704 150.184 569.551 C 148.586 569.432 147.182 570.604 147.013 572.198 Z  M 257.134 601.321 C 258.298 601.321 259.374 600.623 259.84 599.488 C 260.451 598.004 259.723 596.288 258.21 595.706 C 256.727 595.095 255.039 595.822 254.428 597.335 C 254.062 598.232 254.168 599.252 254.712 600.054 C 255.256 600.855 256.165 601.331 257.134 601.321 L 257.134 601.321 Z  M 250.617 545.053 C 249.278 545.926 248.871 547.73 249.744 549.068 C 250.297 549.912 251.228 550.407 252.188 550.407 C 253.249 550.401 254.223 549.819 254.732 548.887 C 255.24 547.956 255.202 546.822 254.632 545.926 C 253.759 544.559 251.955 544.181 250.617 545.053 L 250.617 545.053 Z  M 237.728 625.993 C 238.31 625.993 238.892 625.818 239.416 625.44 C 240.258 624.837 240.714 623.831 240.613 622.8 C 240.512 621.77 239.868 620.871 238.925 620.444 C 237.982 620.016 236.883 620.124 236.041 620.727 C 234.731 621.658 234.441 623.491 235.372 624.8 C 235.924 625.585 236.826 625.993 237.728 625.993 L 237.728 625.993 Z  M 237.612 535.191 C 238.514 535.191 239.416 534.754 239.997 533.969 C 240.929 532.659 240.608 530.826 239.299 529.895 C 237.99 528.964 236.157 529.285 235.255 530.594 C 234.623 531.478 234.537 532.642 235.033 533.61 C 235.529 534.578 236.524 535.188 237.612 535.191 L 237.612 535.191 Z  M 228.447 529.895 C 229.553 529.895 230.6 529.255 231.095 528.179 C 231.764 526.724 231.124 524.979 229.64 524.339 C 228.156 523.698 226.44 524.309 225.8 525.793 C 225.13 527.248 225.771 528.994 227.254 529.634 C 227.633 529.808 228.04 529.895 228.447 529.895 L 228.447 529.895 Z  M 243.634 537.082 C 242.47 538.187 242.441 540.02 243.547 541.184 C 244.129 541.766 244.885 542.086 245.642 542.086 C 246.369 542.086 247.096 541.824 247.649 541.271 C 248.806 540.163 248.845 538.326 247.736 537.169 C 246.628 536.012 244.791 535.973 243.634 537.082 L 243.634 537.082 Z  M 176.107 628.495 C 176.573 628.757 177.067 628.873 177.562 628.873 C 178.881 628.872 180.036 627.986 180.376 626.711 C 180.717 625.436 180.16 624.092 179.017 623.433 C 177.62 622.618 175.845 623.112 175.031 624.509 C 174.245 625.935 174.711 627.709 176.107 628.495 Z  M 197.899 629.979 C 196.298 629.746 194.844 630.851 194.611 632.452 C 194.378 634.052 195.484 635.507 197.084 635.739 C 197.229 635.768 197.375 635.768 197.491 635.768 C 199.018 635.767 200.283 634.586 200.39 633.063 C 200.497 631.541 199.41 630.194 197.899 629.979 L 197.899 629.979 Z  M 245.729 619.068 C 246.485 619.068 247.271 618.777 247.824 618.167 C 248.541 617.418 248.804 616.344 248.515 615.349 C 248.225 614.353 247.427 613.588 246.42 613.341 C 245.413 613.094 244.351 613.403 243.634 614.152 C 242.529 615.315 242.558 617.148 243.722 618.254 C 244.274 618.777 245.002 619.068 245.729 619.068 Z  M 166.739 617.934 C 166.232 618.516 165.978 619.276 166.033 620.045 C 166.088 620.815 166.446 621.531 167.03 622.036 C 167.583 622.502 168.252 622.734 168.921 622.734 C 169.736 622.734 170.55 622.385 171.132 621.716 C 171.639 621.134 171.893 620.374 171.838 619.604 C 171.784 618.835 171.425 618.118 170.841 617.614 C 169.619 616.595 167.786 616.741 166.739 617.934 Z  M 186.116 522.331 C 184.963 522.327 183.917 523.006 183.451 524.06 C 182.986 525.114 183.189 526.345 183.968 527.194 C 184.748 528.043 185.956 528.349 187.047 527.975 C 187.367 527.975 187.687 527.917 188.007 527.801 C 189.519 527.277 190.334 525.619 189.81 524.106 C 189.316 522.593 187.628 521.807 186.116 522.331 L 186.116 522.331 Z  M 208.081 519.16 C 206.481 519.102 205.114 520.324 205.056 521.924 C 205.016 522.693 205.286 523.445 205.806 524.014 C 206.325 524.583 207.05 524.919 207.82 524.95 L 207.965 524.95 C 209.507 524.95 210.787 523.728 210.874 522.186 C 210.933 520.585 209.682 519.218 208.081 519.16 Z  M 227.342 625.76 C 225.887 626.429 225.247 628.146 225.916 629.63 C 226.411 630.706 227.458 631.317 228.564 631.317 C 228.971 631.317 229.378 631.23 229.786 631.055 C 231.24 630.386 231.88 628.669 231.211 627.186 C 230.542 625.731 228.796 625.091 227.342 625.76 L 227.342 625.76 Z  M 255.999 554.189 C 255.285 554.478 254.716 555.039 254.416 555.749 C 254.116 556.458 254.11 557.257 254.399 557.971 C 254.999 559.461 256.687 560.188 258.181 559.6 C 259.665 558.989 260.392 557.302 259.781 555.818 C 259.17 554.305 257.483 553.607 255.999 554.189 Z  M 186.261 633.15 C 186.581 633.266 186.901 633.295 187.221 633.295 C 188.414 633.295 189.549 632.539 189.985 631.346 C 190.509 629.833 189.694 628.175 188.181 627.651 C 186.668 627.127 185.01 627.942 184.486 629.455 C 184.218 630.18 184.256 630.982 184.59 631.679 C 184.925 632.375 185.528 632.906 186.261 633.15 L 186.261 633.15 Z  M 253.846 605.365 C 252.508 604.492 250.704 604.871 249.831 606.238 C 248.958 607.576 249.337 609.38 250.704 610.253 C 251.199 610.573 251.722 610.718 252.275 610.718 C 253.235 610.718 254.166 610.253 254.719 609.38 C 255.592 608.042 255.185 606.238 253.846 605.365 L 253.846 605.365 Z  M 175.991 526.986 C 175.321 527.374 174.834 528.013 174.637 528.761 C 174.441 529.509 174.551 530.305 174.943 530.972 C 175.496 531.903 176.456 532.427 177.475 532.427 C 177.969 532.427 178.464 532.31 178.929 532.048 C 180.326 531.234 180.791 529.459 179.977 528.063 C 179.597 527.385 178.96 526.889 178.21 526.686 C 177.46 526.484 176.66 526.592 175.991 526.986 L 175.991 526.986 Z  M 166.943 533.474 C 166.359 533.979 166 534.695 165.946 535.465 C 165.891 536.234 166.145 536.994 166.652 537.576 C 167.234 538.245 168.048 538.565 168.834 538.565 C 169.503 538.565 170.201 538.333 170.754 537.838 C 171.976 536.791 172.092 534.929 171.045 533.736 C 169.997 532.543 168.135 532.398 166.943 533.474 Z  M 157.167 549.65 C 155.741 548.923 153.996 549.476 153.239 550.901 C 152.772 551.804 152.809 552.886 153.338 553.754 C 153.868 554.622 154.812 555.151 155.829 555.149 C 156.876 555.149 157.894 554.567 158.418 553.578 C 159.145 552.152 158.593 550.407 157.167 549.65 Z  M 163.335 541.038 C 162.731 540.56 161.96 540.343 161.195 540.436 C 160.43 540.529 159.734 540.924 159.262 541.533 C 158.783 542.137 158.566 542.908 158.659 543.673 C 158.752 544.438 159.147 545.134 159.756 545.606 C 160.28 546.014 160.92 546.217 161.56 546.217 C 162.433 546.217 163.277 545.839 163.859 545.112 C 164.819 543.861 164.615 542.028 163.335 541.038 L 163.335 541.038 Z  M 207.936 630.444 C 206.897 630.47 205.95 631.049 205.453 631.962 C 204.956 632.875 204.983 633.984 205.525 634.871 C 206.068 635.758 207.042 636.289 208.081 636.263 L 208.227 636.263 C 209.827 636.176 211.078 634.837 210.991 633.208 C 210.904 631.608 209.536 630.386 207.936 630.444 Z  M 151.93 596.375 C 152.843 596.368 153.701 595.935 154.248 595.205 C 154.796 594.474 154.972 593.53 154.723 592.651 C 154.258 591.109 152.657 590.236 151.115 590.673 C 149.574 591.138 148.701 592.738 149.137 594.28 C 149.515 595.561 150.679 596.375 151.93 596.375 L 151.93 596.375 Z  M 149.661 580.17 C 148.062 580.323 146.89 581.743 147.042 583.341 C 147.188 584.854 148.439 585.989 149.923 585.989 L 150.214 585.989 C 151.812 585.835 152.984 584.416 152.832 582.817 C 152.766 582.045 152.393 581.33 151.798 580.833 C 151.202 580.336 150.433 580.097 149.661 580.17 L 149.661 580.17 Z  M 242.034 580.635 C 243.634 580.635 244.943 579.326 244.943 577.726 L 244.943 577.668 C 244.943 576.068 243.634 574.758 242.034 574.758 C 240.434 574.758 239.125 576.068 239.125 577.668 L 239.125 577.726 C 239.125 579.326 240.434 580.635 242.034 580.635 Z  M 168.746 580.664 C 170.347 580.664 171.656 579.355 171.656 577.755 C 171.656 576.155 170.347 574.846 168.746 574.846 C 167.146 574.846 165.837 576.155 165.837 577.755 C 165.837 579.355 167.146 580.664 168.746 580.664 Z  M 238.688 599.11 C 239.561 597.772 239.154 595.968 237.815 595.095 C 237.169 594.672 236.38 594.525 235.625 594.69 C 234.87 594.854 234.213 595.314 233.8 595.968 C 233.231 596.863 233.192 597.997 233.701 598.929 C 234.209 599.861 235.183 600.443 236.244 600.448 C 237.175 600.419 238.106 599.954 238.688 599.11 L 238.688 599.11 Z  M 188.909 541.737 C 187.454 542.406 186.814 544.122 187.483 545.606 C 187.978 546.683 189.025 547.294 190.13 547.294 C 190.538 547.294 190.945 547.206 191.352 547.032 C 192.807 546.363 193.447 544.646 192.778 543.162 C 192.08 541.708 190.363 541.068 188.909 541.737 L 188.909 541.737 Z  M 179.453 547.846 C 178.869 548.351 178.511 549.068 178.456 549.837 C 178.401 550.607 178.656 551.367 179.162 551.949 C 179.744 552.618 180.559 552.938 181.344 552.938 C 182.013 552.938 182.712 552.705 183.264 552.24 C 184.087 551.569 184.479 550.505 184.288 549.461 C 184.098 548.418 183.354 547.561 182.348 547.225 C 181.342 546.889 180.232 547.127 179.453 547.846 L 179.453 547.846 Z  M 243.343 588.869 C 243.564 588.128 243.479 587.33 243.108 586.652 C 242.736 585.974 242.108 585.473 241.365 585.261 C 240.624 585.04 239.826 585.125 239.148 585.497 C 238.47 585.869 237.969 586.496 237.757 587.24 C 237.503 588.119 237.677 589.066 238.226 589.798 C 238.775 590.529 239.635 590.961 240.55 590.964 C 241.83 590.935 242.994 590.12 243.343 588.869 L 243.343 588.869 Z  M 171.016 564.634 C 169.474 564.197 167.874 565.07 167.408 566.612 C 167.154 567.491 167.328 568.438 167.877 569.17 C 168.426 569.902 169.286 570.334 170.201 570.336 C 171.452 570.336 172.616 569.521 172.994 568.241 C 173.431 566.699 172.558 565.07 171.016 564.634 L 171.016 564.634 Z  M 231.589 603.503 C 230.542 602.281 228.709 602.165 227.487 603.212 C 226.265 604.26 226.149 606.093 227.196 607.314 C 227.778 607.984 228.593 608.304 229.407 608.304 C 230.076 608.304 230.775 608.071 231.327 607.576 C 232.52 606.558 232.637 604.725 231.589 603.503 Z  M 213.493 613.57 C 213.26 611.97 211.805 610.864 210.205 611.097 C 208.605 611.329 207.5 612.784 207.732 614.384 C 207.936 615.839 209.187 616.886 210.613 616.886 C 210.758 616.886 210.904 616.886 211.02 616.857 C 211.787 616.757 212.482 616.351 212.947 615.733 C 213.412 615.114 213.609 614.335 213.493 613.57 L 213.493 613.57 Z  M 183.613 607.344 C 184.661 606.122 184.544 604.289 183.322 603.241 C 182.101 602.194 180.268 602.31 179.22 603.532 C 178.173 604.754 178.289 606.587 179.511 607.635 C 180.064 608.1 180.733 608.333 181.402 608.333 C 182.217 608.333 183.032 608.013 183.613 607.344 Z  M 223.268 609.846 C 222.599 608.391 220.883 607.751 219.399 608.42 C 217.915 609.089 217.304 610.806 217.973 612.29 C 218.468 613.366 219.515 613.977 220.621 613.977 C 221.028 613.977 221.436 613.89 221.843 613.715 C 223.298 613.017 223.938 611.3 223.268 609.846 L 223.268 609.846 Z  M 169.416 585.29 C 167.874 585.756 167.001 587.356 167.437 588.898 C 167.89 590.438 169.503 591.323 171.045 590.876 C 172.587 590.411 173.46 588.811 173.023 587.269 C 172.814 586.524 172.314 585.894 171.635 585.522 C 170.956 585.149 170.156 585.066 169.416 585.29 Z  M 172.092 556.371 C 171.522 557.266 171.484 558.401 171.992 559.332 C 172.5 560.264 173.475 560.846 174.536 560.851 C 175.825 560.848 176.957 559.998 177.32 558.761 C 177.683 557.525 177.19 556.197 176.107 555.498 C 174.74 554.625 172.936 555.004 172.092 556.371 Z  M 239.707 564.517 C 238.165 564.983 237.292 566.583 237.728 568.125 C 238.106 569.376 239.27 570.22 240.521 570.22 C 241.434 570.212 242.292 569.78 242.84 569.049 C 243.387 568.319 243.563 567.374 243.314 566.496 C 242.878 564.954 241.249 564.081 239.707 564.517 L 239.707 564.517 Z  M 197.229 541.853 C 197.433 543.308 198.684 544.355 200.11 544.355 C 200.255 544.355 200.401 544.355 200.517 544.326 C 201.682 544.161 202.634 543.311 202.927 542.172 C 203.221 541.032 202.799 539.828 201.859 539.12 C 200.919 538.413 199.645 538.342 198.631 538.94 C 197.618 539.538 197.064 540.688 197.229 541.853 Z  M 203.077 614.413 C 203.31 612.813 202.204 611.359 200.604 611.126 C 199.004 610.893 197.549 611.999 197.317 613.599 C 197.084 615.199 198.189 616.654 199.79 616.886 C 199.935 616.915 200.081 616.915 200.197 616.915 C 201.646 616.915 202.874 615.848 203.077 614.413 Z  M 207.674 541.009 C 207.441 542.61 208.547 544.064 210.147 544.297 C 210.293 544.326 210.409 544.326 210.554 544.326 C 212.108 544.326 213.388 543.105 213.461 541.553 C 213.534 540.001 212.374 538.665 210.827 538.52 C 209.28 538.375 207.892 539.471 207.674 541.009 L 207.674 541.009 Z  M 217.915 543.133 C 217.501 544.035 217.575 545.086 218.11 545.922 C 218.646 546.758 219.57 547.264 220.563 547.265 C 221.668 547.265 222.716 546.625 223.21 545.548 C 223.879 544.093 223.239 542.348 221.756 541.708 C 220.301 541.038 218.584 541.679 217.915 543.133 L 217.915 543.133 Z  M 174.565 600.477 C 175.626 600.472 176.601 599.89 177.109 598.958 C 177.617 598.026 177.579 596.892 177.009 595.997 C 176.136 594.659 174.332 594.251 172.994 595.124 C 171.656 595.997 171.248 597.801 172.121 599.139 C 172.674 599.983 173.605 600.477 174.565 600.477 L 174.565 600.477 Z  M 192.836 612.29 C 193.505 610.835 192.865 609.089 191.411 608.42 C 189.956 607.751 188.21 608.391 187.541 609.846 C 186.872 611.3 187.512 613.046 188.967 613.715 C 190.43 614.37 192.148 613.737 192.836 612.29 Z  M 185.388 577.726 C 185.388 588.753 194.378 597.743 205.405 597.743 C 216.431 597.743 225.421 588.753 225.421 577.726 C 225.421 566.699 216.431 557.709 205.405 557.709 C 194.378 557.709 185.388 566.67 185.388 577.726 L 185.388 577.726 Z  M 205.376 563.528 C 213.202 563.528 219.574 569.9 219.574 577.726 C 219.574 585.552 213.202 591.924 205.376 591.924 C 197.549 591.924 191.178 585.552 191.178 577.726 C 191.207 569.9 197.549 563.528 205.376 563.528 Z  M 233.277 563.994 C 238.223 563.994 242.238 559.979 242.238 555.033 C 242.238 550.087 238.223 546.072 233.277 546.072 C 228.331 546.072 224.316 550.087 224.316 555.033 C 224.316 559.979 228.331 563.994 233.277 563.994 Z  M 233.277 551.891 C 235.022 551.891 236.419 553.287 236.419 555.033 C 236.419 556.778 235.022 558.175 233.277 558.175 C 231.531 558.175 230.135 556.778 230.135 555.033 C 230.135 553.287 231.531 551.891 233.277 551.891 Z  M 158.244 596.433 C 152.498 596.449 147.844 601.103 147.828 606.849 C 147.828 612.58 152.512 617.265 158.244 617.265 C 163.975 617.265 168.659 612.58 168.659 606.849 C 168.63 601.117 163.975 596.433 158.244 596.433 L 158.244 596.433 Z  M 153.647 606.849 C 153.647 604.318 155.712 602.252 158.244 602.252 C 160.775 602.252 162.84 604.318 162.84 606.849 C 162.84 609.38 160.775 611.446 158.244 611.446 C 155.712 611.446 153.647 609.38 153.647 606.849 Z " id="Compound Path" class="st2 svg-elem-2" fill="rgb(13,94,128)"></path><path d=" M 233.277 558.175 C 235.022 558.175 236.419 556.778 236.419 555.033 C 236.419 553.287 235.022 551.891 233.277 551.891 C 231.531 551.891 230.135 553.287 230.135 555.033 C 230.135 556.778 231.531 558.175 233.277 558.175 Z  M 162.811 606.849 C 162.811 604.318 160.746 602.252 158.214 602.252 C 155.683 602.252 153.618 604.318 153.618 606.849 C 153.618 609.38 155.683 611.446 158.214 611.446 C 160.746 611.446 162.811 609.38 162.811 606.849 Z " id="Compound Path" class="st1 svg-elem-3" fill="rgb(232,151,0)"></path><path d=" M 205.376 591.895 C 213.202 591.895 219.574 585.523 219.574 577.697 C 219.574 569.871 213.202 563.499 205.376 563.499 C 197.549 563.499 191.178 569.871 191.178 577.697 C 191.207 585.552 197.549 591.895 205.376 591.895 Z " id="Path" class="st0 svg-elem-4" fill="rgb(244,255,29)" fill-opacity="0.77"></path></g></svg>
          <br>
          <button id="recordSample" onClick="sample()">Test Sample Some Audio</button>

          <div class="controls">
            <!-- <button class="btn-draw" onclick="draw();">Draw</button>
            <button class="btn-erase" onclick="erase();">Erase</button> -->
            <button onClick="setLoop()">Test Set Loop Points</button>
            <br>
            <button onClick="wavesurfer.play()">Play</button><button onClick="wavesurfer.pause()">Pause</button>
            <br>
            <button onClick="serverPlay()">Play</button> -- <button onClick="serverPause()">Pause</button> -- <button onClick="serverLoop()">Loop</button>
            <br>
            <div id="slider1"></div>
          </div>
        <br>
        <div id="waveform"></div>
        <p style="display:none;">
          <button onClick="test1()">Test 1</button>
          <button onClick="test2()">Test 2</button>
          <button onClick="test3()">Test 3</button>
          <button onClick="test4()">Test 4</button>
          <button onClick="test5()">Test 5</button>
          <button onClick="test6()">Test 6</button>
        </p>
        <br><br>
        <button onClick="tapEnd()">Tap To End Session</button>
      </p>

    </div>

  </div>

  <div id="typed-text">...</div>

  <div class="endDisplay" style="display: none;">
    <p>
      <br>
      <br><em>Thanks for tapping!<br>
        Please visit <a href="http://gravity.emdm.io">gravity.emdm.io</a> for documentation.</em>
    </p>
  </div>

  <script>
    
    // Local control of recording status
    // var wrapper = document.querySelector('.mainDisplay svg')
    // function draw() {
    //   wrapper.classList.add('active')
    // }
    // function erase() {
    //   wrapper.classList.remove('active')
    // }

    let recordOrbit = document.getElementById("recordOrbit");
    
      // Globally Controlled States
    let recordEnable = false;
    let loopEnable = false;
    let touchEnable = false;


    var Hub = require('hub');
    var hub = new Hub();
    hub.init();

    hub.user.name = "a_user_" + Math.floor(Math.random()*99999);
    hub.user.color = getRandomColor();
    console.log(hub.user.color);
    hub.user.location = {
      x: 0.5,
      y: 0.5
    }

    let slider = new Nexus.Slider('#slider1', {
      'mode': 'absolute'
    });
    hub.channel('sharedSlider', null, null, function (data) {
      slider.value = data.val;
    });
    slider.on('change', function (v) {
      // do not send along if not changed from a user interaction.
      if (slider.clicked) {
        hub.send('sharedSlider', {
          val: v
        });
      };
    });


    hub.channel('sample', null, null, (data) => {
      // data.user = "name", .sample = "bang", .duration = "5"
      console.log(`${data.user} recording sample`);
      if(data.user === hub.user.name || data.user == 'all') {
        if(data.user == 'all') {
          if (data.val == "load") {
            setTimeout((url) => {wavesurfer.load(url)},500,data.url);
          }
        } else {
          if (data.val == "load") {
            setTimeout((url) => {
              wavesurfer.load('/uploads/'+url)
            },2000,data.url);
          }
        }
        if (data.val == "play") {
            wavesurfer.play();
          }
          if (data.val == "loop") {
            //wavesurfer.play();
            wavesurfer.regions.list[1].play();
          }
      }
    });

    function sample() {
      hub.transmit('sample', null, {
        'user': hub.user.name,
        'val': 'capture',
        'duration': '5'
      });
      recordEnable = false;
      enableRecord(recordEnable);
    };

    hub.channel('enable', null, null, (data) => {
      if(data.user === hub.user.name || data.user == 'all') {
        if (data.val == "record") {
          enableRecord(data.enabled);
        }
        if (data.val == "loop") {
          enableLoop(data.enabled);
        }
        if (data.val == "touch") {
          enableTouch(data.enabled);
        }
      }
    });


    function serverPlay() {
      hub.transmit('sample', null, {
        'user': hub.user.name,
        'val': 'play'
      })
    }

    function serverPause() {
      hub.transmit('sample', null, {
        'user': hub.user.name,
        'val': 'pause'
      })
    }

    function serverLoop() {
      hub.transmit('sample', null, {
        'user': hub.user.name,
        'val': 'loop',
        'play': true
      })
      // or hub.send('sample', {val:'playLoop', user: hub.user.name});
    }

    // hub.channel('loop', null, null, (data) => {
    //   // data.user = "name", .loopBegin = 0., .loopEnd = 1.0
    // });

    function enableLoop(enabled) {
      if(enabled != null) {
        loopEnable = enabled;
      }
      wavesurfer.regions.list[1].loop = loopEnable;
      if (loopEnable) {
        wavesurfer.regions.list[1].color = 'hsla(39, 100%, 38%, 0.75)'
        wavesurfer.drawBuffer();
      } else {
        wavesurfer.regions.list[1].color = 'hsla(39, 100%, 38%, 0.25)'
        wavesurfer.drawBuffer();
      }
    }

    function enableTouch(enabled) {
      if(enabled != null) {
        touchEnable = enabled;
      }
      wavesurfer.regions.list[1].drag = touchEnable;
      wavesurfer.regions.list[1].resize = touchEnable;
      
    }

    function enableRecord(enabled) {
      if(enabled === false || enabled === true) {
        recordEnable = enabled;
      } 
      // control record button
      document.getElementById("recordSample").disabled = !recordEnable;
      if(recordEnable) {
        recordOrbit.classList.add('active');
        recordOrbit.classList.add('pulsate-fwd');
        recordOrbit.onclick = () => {
          sample();
        };
      } else {
        recordOrbit.classList.remove('active');
        recordOrbit.classList.remove('pulsate-fwd');
        recordOrbit.onclick = () => {};
      }
      
    }

    function setLoop(user, begin, end) {
      hub.transmit('sample', null, {
        'user': hub.user.name,
        'val': 'loop',
        'play': false,
        'loopBegin': wavesurfer.regions.list[1].start/wavesurfer.getDuration(),
        'loopEnd': wavesurfer.regions.list[1].end/wavesurfer.getDuration()
      });
    }

    var secNum = 0;

    document.getElementsByTagName("body")[0].style.borderLeft = "15px solid " + hub.user.color;

    seatMap.addEventListener("click", getClickPosition, false);
    StartAudioContext(Tone.context, '#seatMap').then(function () {
      console.log("AudioStarted");
      //reverb.generate();
    })

    function getClickPosition(e) {
      var m = seatMap.getScreenCTM();
      var p = document.getElementById('seatMap').createSVGPoint();
      p.x = e.clientX;
      p.y = e.clientY;
      p = p.matrixTransform(m.inverse());
      var tx = document.getElementById('seatMap').getAttribute("viewBox").split(" ")[2];
      var ty = document.getElementById('seatMap').getAttribute("viewBox").split(" ")[3];
      var mx = p.x / tx;
      var my = p.y / ty;

      hub.user.location.x = mx;
      hub.user.location.y = my;
      console.log(hub.user.location);

      demoSound.triggerPitch();
      hub.register();
      // FIXME: move default overlay into Hub
      document.getElementsByClassName("nexusOverlay")[0].style.display = 'none';
      document.getElementsByClassName("mainDisplay")[0].style.display = 'block';
      // wavesurfer.load('data/mbira_em.mp3');
    }

    hub.channel('chat', null, null, function (data) {
      console.log("chat: " + data);
    });

    hub.channel('setSection', null, null, function (data) {
      console.log(data);
      console.log("the section is now: " + data.title);

      secNum = data.sect;

    });

    hub.channel('tap', null, null, function (data) {
      hub.log(`
        tap received: $ {
            data
        }
        `);
    })

    function tapButton() {
      hub.send('tap', {
        'tap': 1
      });
    }

    hub.channel('itemback', null, 'about', function (data) {
      console.log("itemback: ", data);
    });

    var numClicked = 0;

    hub.channel('item', 'item', ['audio', 'display'])

    function itemButton() {
      console.log("numClicked = " + numClicked);
      hub.send('item', {
        "item": numClicked
      });

      demoSound.playSecondSound();
      numClicked++
    }

    hub.channel('tapOthers', null, null, function (data) {
      console.log('Other Person: ', data);
      demoSound.playPitch(data.pitch);
    });

    function triggerOthersButton() {
      hub.send('tapOthers', {
        "userId": hub.user.id,
        "name": hub.user.name,
        "color": hub.user.color,
        "location": hub.user.location,
        "pitch": hub.user.pitch
      });
    }

    hub.channel('sendText', null, ['others'], function (data) {
      console.log('sendText: ', data)
      var textDiv = document.getElementById('typed-text');
      textDiv.innerHTML = data.text;
    });

    function tapEnd() {
      document.getElementsByClassName("mainDisplay")[0].style.display = 'none';
      document.getElementsByClassName("endDisplay")[0].style.display = 'block';
    }


    function getRandomColor() {
      var letters = '0123456789ABCDEF'.split('');
      var color = '#';
      for (var i = 0; i < 6; i++) {
        color += letters[Math.floor(Math.random() * 16)];
      }
      return color;
    }

    hub.channel('triggerCollide', null, null, function (data) {
      demoSound.playSecondSound();
    });

    hub.channel('triggerPitch');
    hub.channel('triggerFirstSound', null, ['max']);

    var DemoSound = function () {

      this.tone = new Tone();

      this.tremolo = new Tone.Tremolo({
        "frequency": 8,
        "type": "sine",
        "depth": 0.6,
        "spread": 0
        //"wet": 0.8
      }).toMaster().start();

      this.synth = new Tone.Synth({
        "oscillator": {
          "type": "sine"
        },
        "envelope": {
          "attack": 2.0,
          "decay": 0.5,
          "sustain": 0.8,
          "release": 2.0
        }
      }).connect(this.tremolo);

      this.synth.volume.value = -10;

      this.player = [];
      this.player[0] = new Tone.Player("data/mp3s/001-Causeway.mp3").toMaster();
      this.player[1] = new Tone.Player("data/mp3s/Collide.mp3").toMaster();

      Tone.Transport.start();

      this.pitchCollection = [55, 57, 59, 61, 62, 64, 66, 67, 68, 69, 71, 73, 75, 76, 78, 80, 82, 83];

      this.pitch = this.pitchCollection[Math.floor(Math.random() * (this.pitchCollection.length))];
      console.log("Pitch & Length: ", this.pitch, this.pitchCollection.length);

      this.freq = function (midi) {
        var note = Tone.Frequency(midi).midiToFrequency(midi);
        // console.log("Midi: ", midi, note)
        return note;
      };

      // **** Playing Notes **** //
      this.playPitch = function (pitch) {
        if (pitch) {
          this.synth.triggerAttackRelease(this.freq(pitch), 0.5);
        } else {
          this.synth.triggerAttackRelease(this.freq(this.pitch), 5);

        }
      };

      this.playRandomPitch = function () {
        var pitch = this.pitchCollection[Math.floor(Math.random() * (this.pitchCollection.length))];
        this.synth.triggerAttackRelease(this.freq(pitch), 0.5);
      };

      this.triggerPitch = function () {
        this.synth.triggerAttackRelease(this.freq(this.pitch), 5);
        hub.send('triggerPitch', {
          'pitch': this.pitch
        });
      };

      this.playFirstSound = function () {
        this.player[0].start();
      };

      this.triggerFirstSound = function () {
        this.playPitch();
        this.player[0].start();
        // this.seqRandomize();
        hub.send('triggerFirstSound', {
          'pitch': this.pitch
        });

        var elements = document.getElementsByClassName("mainTitle");
        // elements[0].className += " clicked";
        elements[0].style.backgroundColor = hub.user.color;
      };

      // ****  Events ****

      this.playSecondSound = function () {
        this.player[1].start();
        // var pitch = this.pitchCollection[Math.floor(Math.random() * (this.pitchCollection.length))];
        // this.synth.triggerAttackRelease(this.freq(pitch), 5);
        this.playRandomPitch();
      };

    };

    var demoSound = new DemoSound();
    hub.user.pitch = demoSound.pitch;

    var wavesurfer = WaveSurfer.create({
      container: '#waveform',
      waveColor: hub.user.color,
      progressColor: 'purple',
      plugins: [
        WaveSurfer.regions.create({
          regions: [{
                  id: 0,
                  start: 0.5,
                  end: 1,
                  drag: true,
                  color: 'hsla(39, 100%, 38%, 0.75)'
              }]
          // dragSelection: {
          //     slop: 5
          // }
        })
      ]
    });

    // wavesurfer.enableDragSelection({
    //     id: 1,
    //     loop: true
    // });

    wavesurfer.on('ready', function () {
      // wavesurfer.play();
      wavesurfer.clearRegions();
      let regEnd = wavesurfer.getDuration() * 0.75;
      let regStart = wavesurfer.getDuration() * 0.25;
      wavesurfer.addRegion({
        id: 1,
        start: regStart,
        end: regEnd,
        drag: true,
        resize: true,
        loop: true,
        color: 'hsla(39, 100%, 38%, 0.75)'
      });
      wavesurfer.regions.list[1].on('update', function () {
        wavesurfer.regions.list[1].play();
        wavesurfer.regions.list[1].un('update');
        wavesurfer.regions.list[1].on('update', function () {
          setLoop();
        });
      });
      enableLoop();
      enableTouch();
    });












    // Full Channel Declaration Standard transmit to 'others'
    // expected output: 
    hub.channel('test1', null, null, function (data) {
      console.log('test 1 received: ', data);
    })

    function test1() {
      console.log('test1 activated');
      hub.transmit('test1', null, {
        'test': '1'
      });
    }

    hub.channel('test2', null, ['display'], function (data) {
      console.log('test 2 received: ', data);
    })

    function test2() {
      hub.transmit('test2', null, {
        'test': 2
      });
    }

    // test3 overriding the channel declaration within the transmit function
    hub.channel('test3', null, ['controller'], function (data) {
      console.log('test 3 received: ', data);
    })

    function test3() {
      hub.transmit('test3', ['all'], {
        'test': 3
      });
    }

    // test4 overriding simplified channel declaration within the transmit function
    hub.channel('test4')

    function test4() {
      hub.transmit('test4', ['display'], {
        'test': 4
      });
    }

    // test5 no channel declaration just a transmit function
    function test5() {
      hub.transmit('test5', ['display'], {
        'test': 5
      });
    }

    // Just sending something.
    function test6() {
      hub.send('test6', 6);
    }

  </script>

</body>

</html>